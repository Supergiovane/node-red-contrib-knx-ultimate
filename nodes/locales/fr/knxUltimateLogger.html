<script type="text/markdown" data-help-name="knxUltimateLogger">
# Enregistreur

<p> Le nœud d'enregistrement enregistre tous les télégrammes et les sortira dans un fichier compatible XML moniteur de bus ETS. </p>
<br/>
Vous pouvez enregistrer le fichier sur le disque ou l'envoyer à un serveur FTP, par exemple.Le fichier peut ensuite être lu par votre ETS, par exemple pour le diagnostic ou pour une rediffusion des télégrammes.
<br/>
Le nœud peut également compter les télégrammes par seconde (ou tout intervalle que vous souhaitez).
<br/> <a href = "https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Sample" Target = "_ Blank"> Les exemples sont ici. </a>

<br/>

## PARAMÈTRES

| Propriété | Description |
|-|-|
|Porte |La passerelle KNX.|
|Sujet |Le sujet du nœud.|
|Nom de nœud |Nom du nœud.|

## fichier de diagnostic de bus compatible ETS

| Propriété | Description |
|-|-|
|Minuterie de démarrage automatique |Démarre automatiquement la minuterie sur le déploiement ou au démarrage de Node-RED.|
|Sortir de nouveaux XML chaque (en minutes) |Toutes les X minutes, sortie du fichier XML compatible ETS.|
|Nombre maximum de lignes en XML (0 = pas de limite) |Nombre maxi de lignes dans l’XML; les plus anciennes sont supprimées en premier. 0 = pas de limite.|
|Action |Émettre seulement le payload, ou émettre et sauvegarder dans un fichier.|
|Chemin de fichier (absolu ou relatif) |Où sauvegarder l’XML quand l’option de sauvegarde est choisie.|

## KNX TELEGRAM COMPTER

| Propriété | Description |
|-|-|
|Minuterie de démarrage automatique |Démarre automatiquement la minuterie sur le déploiement ou au démarrage de Node-RED.|
|Compter l'intervalle (en quelques secondes) |À quelle fréquence émettre un msg dans le flow, contenant le nombre de télégrammes KNX (en secondes).|

<br/>

---

# Sortie du message de l'enregistreur

**broche 1: fichier de fichier compatible du moniteur de bus XML ETS**

Vous pouvez utiliser un nœud de fichier pour enregistrer la charge utile au système de fichiers, ou vous pouvez l'envoyer, par exemple, à un serveur FTP.

```javascript

msg = {
        topic:"MyLogger" 
        payload: "CommunicationLog xmlns=http://knx.org/xml/telegrams/01 Telegram Timestamp=2020-03-27T07:32:39.470Z Service=L_Data.ind...." (A String containing the XML file)
    } 

```

<br/> <br/>

**PIN 2: COMPRESSION DE TÉLÉGRAM KNX**

Chaque nombre, le nœud émettra un télégramme comme celui-ci:

```javascript

msg = {
        topic:"",
        payload:10,
        countIntervalInSeconds:5,
        currentTime:"25/10/2021, 11:11:44"
    } 

```

<br/>

---

# Message de flux d'entrée

Vous pouvez contrôler l'enregistreur à certains égards.

## fichier de moniteur de bus compatible ETS XML

**Démarrer la minuterie** <br/>

```javascript

// Start the timer
msg.etsstarttimer = true;
return msg;

```

**Arrêtez la minuterie** <br/>

```javascript

// Start the timer
msg.etsstarttimer = false;
return msg;

```

**Sortie immédiatement une charge utile avec le fichier ETS** <br/>

```javascript

// Output payload. Restart timer as well (in case the timer was active)
msg.etsoutputnow = true;
return msg;

```

## KNX TELEGRAM COMPTER

**Démarrer la minuterie** <br/>

```javascript

// Start the timer
msg.telegramcounterstarttimer = true;
return msg;

```

**Arrêtez la minuterie** <br/>

```javascript

// Start the timer
msg.telegramcounterstarttimer = false;
return msg;

```

**Message de compte télégramme de sortie immédiatement** <br/>

```javascript

// Output payload. 
msg.telegramcounteroutputnow = true;
return msg;

```

## Voir aussi

- _Sample_
- [Exemple d'enregistreur](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Sample)
</script>