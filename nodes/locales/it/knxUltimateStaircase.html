<script type="text/markdown" data-help-name="knxUltimateStaircase">
# MINUTERIA SCALA KNX

<p>Questo nodo realizza una scala temporizzata KNX. Ascolta gli impulsi di attivazione, pilota l'attuatore di uscita, replica lo stato su una GA di feedback e gestisce i comandi di override o blocco.</p>

**Indirizzi di gruppo**

|Proprietà|Descrizione|
|--|--|
| GA impulso | Ingresso binario che avvia il timer quando riceve `1`. Se l'opzione “Il valore 0 annulla il ciclo” è attiva, il valore `0` spegne subito la luce.
| GA uscita | Attuatore pilotato durante il ciclo. Seleziona il DPT coerente con il carico (binario, dimmer, analogico, …).
| GA stato | Replica lo stato attivo/preavviso. Con il preavviso in modalità *Attiva GA stato* cambia brevemente valore prima dello spegnimento.
| GA override | Mantiene la luce accesa e sospende il timer finché rimane a `1`.
| GA blocco | Quando vale 1 ignora gli impulsi. L'opzione *Quando è bloccato* decide se spegnere anche la luce oppure lasciarla invariata.

**Comportamento del timer**

|Opzione|Descrizione|
|--|--|
| Durata timer | Durata base del ciclo scala. |
| Nuovo impulso | Scegli se gli impulsi successivi riavviano il timer, lo prolungano oppure vengono ignorati. |
| Il valore 0 annulla il ciclo | Arresta il ciclo con motivo `manual-off` quando l'impulso torna a `0`. |
| Quando è bloccato | Definisce se il blocco deve solo inibire gli impulsi oppure spegnere anche l'uscita. |

**Preavviso**

|Opzione|Descrizione|
|--|--|
| Invia preavviso | Abilita l'avviso prima dello spegnimento. |
| Preavviso (secondi) | Secondi di anticipo con cui emettere l'avviso. |
| Modalità preavviso | *Attiva GA stato* cambia temporaneamente la GA di stato. *Lampeggia l'uscita* spegne e riaccende l'uscita dopo la durata impostata. |
| Durata lampeggio | Tempo in millisecondi in cui l'uscita resta spenta durante il lampeggio. |

**Uscita del nodo**

- Con *Emetti eventi* attivo il nodo produce oggetti strutturati per `trigger`, `extend`, `prewarn`, `timeout`, `override`, `block` e `manual-off` includendo `event`, `remaining`, `active`, `override`, `blocked` e ulteriori dettagli.
- Senza eventi attivati è possibile usare la GA di stato come feedback sul bus KNX.

## Ingressi

|Proprietà|Descrizione|
|--|--|
| Telegrammi KNX | Il nodo reagisce ai telegrammi delle GA configurate. I messaggi iniettati dal flow sull'ingresso sono ignorati. |

## Uscite

|Proprietà|Descrizione|
|--|--|
| Eventi (opzionale) | Invia gli oggetti evento quando l'opzione *Emetti eventi* è selezionata. |

</script>
