üåê Language: [EN](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Gateway-configuration) | [IT](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/it-Gateway-configuration) | [DE](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Gateway-configuration) | [FR](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/fr-Gateway-configuration) | [ES](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/es-Gateway-configuration) | [ÁÆÄ‰Ωì‰∏≠Êñá](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Gateway-configuration)

<!-- NAV START -->
Navigation: [Startseite](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Home)  
√úbersicht: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) ‚Ä¢ [FAQ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-FAQ-Troubleshoot) ‚Ä¢ [Sicherheit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-SECURITY) ‚Ä¢ [Doku: Sprachleiste](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Docs-Language-Bar)  
KNX Ger√§teknoten: [Gateway](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Gateway-configuration) ‚Ä¢ [Ger√§t](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Device) ‚Ä¢ [Knotenschutz](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Protections)  
Weitere KNX‚ÄëKnoten: [Szenencontroller](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-SceneController-Configuration) ‚Ä¢ [WatchDog](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-WatchDog-Configuration) ‚Ä¢ [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Logger-Configuration) ‚Ä¢ [Global Context](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-GlobalVariable) ‚Ä¢ [Alerter](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Alerter-Configuration) ‚Ä¢ [Laststeuerung](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-LoadControl-Configuration) ‚Ä¢ [Viewer](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-knxUltimateViewer) ‚Ä¢ [Auto‚ÄëResponder](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-KNXAutoResponder) ‚Ä¢ [HA‚Äë√úbersetzer](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HATranslator) ‚Ä¢ [IoT Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-IoT-Bridge-Configuration)  
HUE: [Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Bridge%20configuration) ‚Ä¢ [Licht](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Light) ‚Ä¢ [Batterie](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Battery) ‚Ä¢ [Taster](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Button) ‚Ä¢ [Kontakt](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Contact%20sensor) ‚Ä¢ [Ger√§te‚ÄëSW‚ÄëUpdate](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Device%20software%20update) ‚Ä¢ [Lichtsensor](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Light%20sensor) ‚Ä¢ [Bewegung](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Motion) ‚Ä¢ [Szene](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Scene) ‚Ä¢ [Tap Dial](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Tapdial) ‚Ä¢ [Temperatur](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Temperature%20sensor) ‚Ä¢ [Zigbee‚ÄëKonnektivit√§t](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-HUE%20Zigbee%20connectivity)  
Beispiele: [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Logger-Sample) ‚Ä¢ [Switch Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) ‚Ä¢ [Dimming](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) ‚Ä¢ [RGB color](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) ‚Ä¢ [RGBW color + White](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) ‚Ä¢ [Command a scene actuator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) ‚Ä¢ [Datapoint 213.x 4x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) ‚Ä¢ [Datapoint 222.x 3x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) ‚Ä¢ [Datapoint 237.x DALI diags](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) ‚Ä¢ [Datapoint 2.x 1 bit proprity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) ‚Ä¢ [Datapoint 22.x RCHH Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) ‚Ä¢ [Datetime to BUS](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) ‚Ä¢ [Read Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) ‚Ä¢ [Virtual Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) ‚Ä¢ [Subtype decoded](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) ‚Ä¢ [Alexa](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) ‚Ä¢ [Apple Homekit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) ‚Ä¢ [Google Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) ‚Ä¢ [Switch on/off POE port of Unifi switch](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) ‚Ä¢ [Set configuration by msg](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) ‚Ä¢ [Scene Controller node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) ‚Ä¢ [WatchDog node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) ‚Ä¢ [Global Context node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) ‚Ä¢ [Alerter node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleAlerter) ‚Ä¢ [Load control node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) ‚Ä¢ [Viewer node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [MySQL, InfluxDB, MQTT Sample](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB)
<!-- NAV END -->

# KNX Gateway Konfiguration

Dieser Node stellt die Verbindung zu deinem KNX/IP‚ÄëGateway her.

**Allgemein**

|Eigenschaft|Beschreibung|
|--|--|
| Name | Name des Nodes. |
| IP/Hostname | Multicast‚ÄëAdresse des ETH/KNX‚ÄëRouters oder Unicast‚ÄëIP einer KNX/IP‚ÄëSchnittstelle. F√ºr Interfaces nutze die Ger√§te‚ÄëIP (z.‚ÄØB. 192.168.1.22); f√ºr Router `224.0.23.12`. Hostname ist ebenfalls m√∂glich. |

<br/>

**Konfiguration**

|Eigenschaft|Beschreibung|
|--|--|
| IP Port | Verbindungsport. Standard: `3671`. |
| IP Protocol | `Tunnel UDP` f√ºr KNX/IP‚ÄëInterfaces, `Multicast UDP` f√ºr KNX/IP‚ÄëRouter. **Auto** erkennt automatisch (Standard). |
| KNX Physical Address | Physikalische KNX‚ÄëAdresse, z.‚ÄØB. `1.1.200`. Standard: `15.15.22`. |
| Bind to local interface | Lokales Netzwerk‚ÄëInterface f√ºr die Kommunikation. "Auto" w√§hlt automatisch. Bei mehreren Interfaces (Ethernet/WLAN) ist eine manuelle Auswahl empfehlenswert, damit keine UDP‚ÄëTelegramme verloren gehen. |
| Automatically connect to KNX BUS at start | Automatisch beim Start verbinden. Standard: "Yes". |
| Secure credentials source | Bestimme, wie KNX Secure Daten bereitgestellt werden: **ETS-Keyring-Datei ** (Data-Secure-Schl√ºssel und ggf. Tunneling-Zugangsdaten stammen aus dem Keyring),**Manuelle Zugangsdaten ** (nur KNX IP Tunnelling Secure mit manuell eingetragenem Benutzer) oder**Keyring + manuelles Tunnel-Passwort** (Data-Secure-Schl√ºssel aus dem Keyring, Tunnel-Benutzer/-Passwort manuell). Wichtig: KNX Data Secure Telegramme ben√∂tigen immer eine Keyring-Datei. |
| Tunnel interface individual address | Sichtbar, sobald die Option manuelle Zugangsdaten umfasst (Manuelle Zugangsdaten oder Keyring + manuelles Tunnel-Passwort). Optionale KNX-Individualadresse der sicheren Tunnel-Schnittstelle (z.‚ÄØB. `1.1.1`); leer lassen, damit KNX Ultimate automatisch verhandelt. |
| Tunnel user ID | Sichtbar bei manuellen Zugangsdaten. Optionale Kennung des KNX Secure Tunnel-Benutzers aus ETS. |
| Tunnel user password | Sichtbar bei manuellen Zugangsdaten. Passwort des KNX Secure Tunnel-Benutzers aus ETS. |

> **KNX Secure im √úberblick** \
> ‚Ä¢ _KNX Data Secure_ sch√ºtzt Gruppenadress-Telegramme und ben√∂tigt immer eine Keyring-Datei mit den Gruppenschl√ºsseln.\
> ‚Ä¢ _KNX IP Tunnelling Secure_ sch√ºtzt den Verbindungsaufbau mittels Commissioning-Passwort. Je nach Modus stammt dieses aus dem Keyring oder wird manuell eingetragen.

<br/>

**Erweitert**

|Eigenschaft|Beschreibung|
|--|--|
| Echo sent message to all node with same Group Address | Leitet Flow‚ÄëNachrichten an alle Nodes mit derselben GA weiter, so als k√§men sie vom BUS. N√ºtzlich bei KNX‚ÄëEmulation oder fehlender BUS‚ÄëVerbindung. **Wird k√ºnftig standardm√§√üig aktiviert und dann entfernt.** |
| Suppress repeated (R-Flag) telegrams fom BUS | Wiederholte BUS‚ÄëTelegramme (R‚ÄëFlag) ignorieren. |
| Suppress ACK request in tunneling mode | F√ºr sehr alte KNX/IP‚ÄëGateways: ACK ignorieren, alle Telegramme akzeptieren. |
| Delay between each telegram (ms) | KNX erlaubt max. 50 Telegramme/s. 25-50‚ÄØms sind √ºblich; bei langsamen Verbindungen h√∂her (z.‚ÄØB. 200-500‚ÄØms). |
| Loglevel | Log‚ÄëDetailgrad. Standard: "Error". |
| Aktualisierung der Status-Badges | Legt fest, wie oft die Statusanzeige der Nodes erneuert wird. Mit einer Verz√∂gerung werden Zwischenst√§nde verworfen und nur der letzte Wert nach dem gew√§hlten Intervall angezeigt. W√§hlen Sie **Sofort**, um das bisherige Echtzeitverhalten beizubehalten. |

<br/>

**ETS‚ÄëImport**

|Eigenschaft|Beschreibung|
|--|--|
| If Group Address has no Datapoint | Wenn eine GA keinen DPT hat: Import abbrechen, GA √ºberspringen oder GA mit Platzhalter‚ÄëDPT `1.001` √ºbernehmen. |
| ETS group address list | Inhalt der ETS‚ÄëDatei (CSV/ESF) einf√ºgen oder Dateipfad angeben (z.‚ÄØB. `/home/pi/mycsv.csv`). Siehe Hilfelinks. |

<br/>

**Werkzeuge**

|Eigenschaft|Beschreibung|
|--|--|
| Gather debug info for troubleshoot | Button klicken und Ausgabe an ein GitHub‚ÄëIssue anh√§ngen. |
| Get all used GA for KNX routing filter | Mit READ eine Textliste aller in Flows verwendeten GAs f√ºr dieses Gateway holen - zum Bef√ºllen der Filtertabelle deines KNX/IP‚ÄëRouters. |

<br/>

# Arbeit mit ETS‚ÄëCSV oder ESF

Statt f√ºr jede GA einen Node anzulegen, importiere die ETS‚ÄëGruppenadressen als CSV (empfohlen) oder ESF (ab v1.1.35, z.‚ÄØB. bei ETS Inside). Unterst√ºtzt ab ETS‚ÄØ4.

Seit v1.4.18 kann der Dateipfad direkt eingetragen werden (z.‚ÄØB. `/home/pi/mycsv.csv`).

Mit **Universal mode (listen to all Group Addresses)** wird der Node zu einem universellen I/O‚ÄëNode, der DPTs, GAs und Ger√§tenamen kennt. Eingehende Payloads werden mit passendem DPT kodiert; BUS‚ÄëTelegramme werden anhand des ETS‚ÄëDPT dekodiert.

Seit v1.1.11 ist der Universal‚ÄëModus auch ohne ETS m√∂glich: DPT und Wert per Nachricht √ºbergeben. Bei BUS‚ÄëEingang wird zus√§tzlich der RAW‚ÄëWert ausgegeben und nach M√∂glichkeit ohne DPT dekodiert.

Hinweis: CSV enth√§lt genaue DPTs inkl. Subtyp; ESF hat keinen Subtyp. Bevorzuge CSV, da ESF zu falschen Werten f√ºhren kann. Nach ESF‚ÄëImport DPTs pr√ºfen/anpassen. Ab v1.4.1 ist Import auch zur Laufzeit per WatchDog m√∂glich.

Video: <a href="https://youtu.be/egRbR_KwP9I"><img src='https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/yt.png'></a>

- **ETS‚ÄëCSV Gruppenadressen importieren ** Achtung: Im GA‚ÄëNamen d√ºrfen keine Tabulator‚ÄëZeichen vorkommen.**If Group Address has no Datapoint ** > Ohne DPT in ETS: Import abbrechen, GA √ºberspringen oder mit Platzhalter‚ÄëDPT fortfahren.**CSV‚ÄëExport in ETS**

> In ETS Gruppenadressenliste w√§hlen ‚Üí Rechtsklick ‚Üí Exportieren. Optionen:<br/>
> Output Format: CSV<br/>
> CSV Format: 1/1 Name/Address<br/>
> Export with header line: aktiv<br/>
> CSV Separator: Tabulator<br/>
> Dann den Dateitext hier einf√ºgen. Datei muss pro GA einen DPT enthalten. Ergebnisse erscheinen in Node‚ÄëRED DEBUG.

> Ergebnisse: **ERROR ** (DPT fehlt ‚Üí Import stoppt) oder**WARNING ** (Subtyp fehlt ‚Üí Default wird erg√§nzt, bitte pr√ºfen). Subtyp ist die Zahl rechts vom Punkt, z.‚ÄØB. `5.001`.**ESF‚ÄëExport in ETS**

> Projekt w√§hlen ‚Üí Export‚ÄëSymbol (Pfeil nach oben) ‚Üí ESF w√§hlen (nicht `.knxprod`) ‚Üí Inhalt im Feld "ETS group address list" einf√ºgen.

<p>
    <table style="font-size:12px">
        <tr><th colspan="2" style="font-size:14px">Statusfarben des Nodes</th></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/greendot.png"></td><td>Auf Write‚ÄëTelegramme reagieren</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/greenring.png"></td><td>Schutz gegen zyklische Referenzen (<a href="https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki" target="_blank">siehe Seite</a>)</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/bluedot.png"></td><td>Auf Response‚ÄëTelegramme reagieren</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/bluering.png"></td><td>Node‚ÄëWert automatisch als Response senden (<a href="https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device" target="_blank">Virtual Device</a>)</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/greudot.png"></td><td>Auf Read‚ÄëTelegramme reagieren</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/greyring.png"></td><td>RBE‚ÄëFilter: Kein Telegramm gesendet</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/reddot.png"></td><td>Fehler oder getrennt</td></tr>
        <tr><td><img src="https://raw.githubusercontent.com/Supergiovane/node-red-contrib-knx-ultimate/master/img/redring.png"></td><td>Node deaktiviert wegen zyklischer Referenz (<a href="https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki" target="_blank">siehe Seite</a>)</td></tr>
    </table>
</p>
