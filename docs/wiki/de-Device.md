üåê Language: [EN](/node-red-contrib-knx-ultimate/wiki/Device) | [IT](/node-red-contrib-knx-ultimate/wiki/it-Device) | [DE](/node-red-contrib-knx-ultimate/wiki/de-Device) | [FR](/node-red-contrib-knx-ultimate/wiki/fr-Device) | [ES](/node-red-contrib-knx-ultimate/wiki/es-Device) | [ÁÆÄ‰Ωì‰∏≠Êñá](/node-red-contrib-knx-ultimate/wiki/zh-CN-Device)
<!-- NAV START -->
Navigation: [Startseite](/node-red-contrib-knx-ultimate/wiki/de-Home) 
√úbersicht: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) ‚Ä¢ [FAQ](/node-red-contrib-knx-ultimate/wiki/de-FAQ-Troubleshoot) ‚Ä¢ [Sicherheit](/node-red-contrib-knx-ultimate/wiki/de-SECURITY) ‚Ä¢ [Doku: Sprachleiste](/node-red-contrib-knx-ultimate/wiki/de-Docs-Language-Bar) 
KNX Ger√§teknoten: [Gateway](/node-red-contrib-knx-ultimate/wiki/de-Gateway-configuration) ‚Ä¢ [Ger√§t](/node-red-contrib-knx-ultimate/wiki/de-Device) ‚Ä¢ [Knotenschutz](/node-red-contrib-knx-ultimate/wiki/de-Protections) 
Weitere KNX‚ÄëKnoten: [Szenencontroller](/node-red-contrib-knx-ultimate/wiki/de-SceneController-Configuration) ‚Ä¢ [WatchDog](/node-red-contrib-knx-ultimate/wiki/de-WatchDog-Configuration) ‚Ä¢ [Logger](/node-red-contrib-knx-ultimate/wiki/de-Logger-Configuration) ‚Ä¢ [Global Context](/node-red-contrib-knx-ultimate/wiki/de-GlobalVariable) ‚Ä¢ [Alerter](/node-red-contrib-knx-ultimate/wiki/de-Alerter-Configuration) ‚Ä¢ [Laststeuerung](/node-red-contrib-knx-ultimate/wiki/de-LoadControl-Configuration) ‚Ä¢ [Viewer](/node-red-contrib-knx-ultimate/wiki/de-knxUltimateViewer) ‚Ä¢ [Auto‚ÄëResponder](/node-red-contrib-knx-ultimate/wiki/de-KNXAutoResponder) ‚Ä¢ [HA‚Äë√úbersetzer](/node-red-contrib-knx-ultimate/wiki/de-HATranslator) ‚Ä¢ [IoT Bridge](/node-red-contrib-knx-ultimate/wiki/de-IoT-Bridge-Configuration) 
HUE: [Bridge](/node-red-contrib-knx-ultimate/wiki/de-HUE+Bridge+configuration) ‚Ä¢ [Licht](/node-red-contrib-knx-ultimate/wiki/de-HUE+Light) ‚Ä¢ [Batterie](/node-red-contrib-knx-ultimate/wiki/de-HUE+Battery) ‚Ä¢ [Taster](/node-red-contrib-knx-ultimate/wiki/de-HUE+Button) ‚Ä¢ [Kontakt](/node-red-contrib-knx-ultimate/wiki/de-HUE+Contact+sensor) ‚Ä¢ [Ger√§te‚ÄëSW‚ÄëUpdate](/node-red-contrib-knx-ultimate/wiki/de-HUE+Device+software+update) ‚Ä¢ [Lichtsensor](/node-red-contrib-knx-ultimate/wiki/de-HUE+Light+sensor) ‚Ä¢ [Bewegung](/node-red-contrib-knx-ultimate/wiki/de-HUE+Motion) ‚Ä¢ [Szene](/node-red-contrib-knx-ultimate/wiki/de-HUE+Scene) ‚Ä¢ [Tap Dial](/node-red-contrib-knx-ultimate/wiki/de-HUE+Tapdial) ‚Ä¢ [Temperatur](/node-red-contrib-knx-ultimate/wiki/de-HUE+Temperature+sensor) ‚Ä¢ [Zigbee‚ÄëKonnektivit√§t](/node-red-contrib-knx-ultimate/wiki/de-HUE+Zigbee+connectivity) 
Beispiele: [Logger](/node-red-contrib-knx-ultimate/wiki/de-Logger-Sample) ‚Ä¢ [Switch Light](/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) ‚Ä¢ [Dimming](/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) ‚Ä¢ [RGB color](/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) ‚Ä¢ [RGBW color + White](/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) ‚Ä¢ [Command a scene actuator](/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) ‚Ä¢ [Datapoint 213.x 4x Setpoint](/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) ‚Ä¢ [Datapoint 222.x 3x Setpoint](/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) ‚Ä¢ [Datapoint 237.x DALI diags](/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) ‚Ä¢ [Datapoint 2.x 1 bit proprity](/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) ‚Ä¢ [Datapoint 22.x RCHH Status](/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) ‚Ä¢ [Datetime to BUS](/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) ‚Ä¢ [Read Status](/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) ‚Ä¢ [Virtual Device](/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) ‚Ä¢ [Subtype decoded](/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) ‚Ä¢ [Alexa](/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) ‚Ä¢ [Apple Homekit](/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) ‚Ä¢ [Google Home](/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) ‚Ä¢ [Switch on/off POE port of Unifi switch](/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) ‚Ä¢ [Set configuration by msg](/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) ‚Ä¢ [Scene Controller node](/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) ‚Ä¢ [WatchDog node](/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) ‚Ä¢ [Global Context node](/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) ‚Ä¢ [Alerter node](/node-red-contrib-knx-ultimate/wiki/SampleAlerter) ‚Ä¢ [Load control node](/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) ‚Ä¢ [Viewer node](/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [MySQL, InfluxDB, MQTT Sample](/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB) 
Contribute to Wiki: [Link](/node-red-contrib-knx-ultimate/wiki/de-Manage-Wiki)
<!-- NAV END -->
---
## KNX‚ÄëULTIMATE GER√ÑTE‚ÄëNODE EINSTELLUNGEN

Dieser Node steuert eine KNX‚ÄëGruppenadresse und ist der am h√§ufigsten verwendete.

[<i class="fa fa-code"></i> Beispiele findest du hier](/node-red-contrib-knx-ultimate/wiki/-SamplesHome)

**Konfiguration**

|Eigenschaft|Beschreibung|
|--|--|
| Gateway | Zu verwendendes KNX‚ÄëGateway ausw√§hlen |
| GA‚ÄëTyp (Dropdown) | Typ der Gruppenadresse. **3‚ÄëEbenen** ist Standard (Eingabe der 3‚Äëstufigen GA oder GA‚ÄëBezeichnung, sofern ETS importiert). **Global** liest die GA beim Start aus einer globalen Variablen, **Flow** analog auf Flow‚ÄëEbene. **$Env variable** liest die GA aus einer Umgebungsvariable. **Universeller Modus (alle GAs abh√∂ren)** reagiert auf ALLE Gruppenadressen. |
| Group Addr. | Zu steuernde Gruppenadresse. Mit importierter ETS kannst du den Ger√§tenamen tippen. Kann leer bleiben, wenn du sie per `msg.setConfig` setzt. |
| Datapoint | Der zum Node geh√∂rende Datapoint. |

### Manueller Befehlsbutton

Im Editor kann pro Node ein kleiner Button angezeigt werden, √ºber den du KNX‚ÄëTelegramme ohne zus√§tzlichen Inject‚ÄëKnoten ausl√∂sen kannst.

|Eigenschaft|Beschreibung|
|--|--|
| Manuellen Button anzeigen | Blendet den Button im Workspace und in der Knotenliste ein bzw. aus. |
| Schaltfl√§chenaktion | Legt fest, was beim Klick geschieht. **KNX-Leseanforderung senden** erzeugt ein normales Read-Telegramm. **Boolean umschalten (Schreiben)** steht bei DPT 1.x zur Verf√ºgung und wechselt zwischen _true_ und _false_. **Benutzerdefinierten Wert schreiben** sendet den angegebenen Wert (muss zum eingestellten Datapoint passen). |
| Initialer Toggle-Status | (Nur f√ºr boolesche Datapoints) Startwert der Toggle-Funktion. Der Zustand bleibt mit den ankommenden KNX-Telegrammen synchron. |
| Benutzerdefinierter Wert | Wert f√ºr den Modus ‚ÄûBenutzerdefinierten Wert schreiben‚Äú. Erlaubt sind JSON-Literale wie `42`, `true`, `"Text"` oder `{ "red": 255 }`. |

Der Button wird nur eingeblendet, wenn die Option aktiv ist. Im Universalmodus ist die Leseaktion deaktiviert, da keine feste Gruppenadresse vorhanden ist.

## TAB Erweiterte Optionen

|Eigenschaft|Beschreibung|
|--|--|
|| **Allgemein** |
| Node‚ÄëName | Anzeigename. |
| Topic | Topic der Ausgabe. Leer lassen, um die Gruppenadresse zu verwenden. |
| Passthrough | Leitet die Eingangs‚ÄëNachricht an den Ausgang weiter. |
|| **Vom Node‚ÄëEINGANG zum KNX‚ÄëBUS** |
| Telegrammtyp | `write` zum Senden eines Schreib‚ÄëTelegramms (√ºblich), alternativ Reaktion auf andere Typen. |
| RBE‚ÄëFilter | "Report by change". Wenn aktiv, sendet nur ge√§nderte Werte zum BUS. F√ºr identische Wiederholungen deaktivieren. Bei Aktivierung wird "rbe" dem Nodename hinzugef√ºgt. |
|| **Vom KNX‚ÄëBUS zum Node‚ÄëAUSGANG** |
| Status beim Start lesen | Liest den GA‚ÄëStatus bei Editorstart und jeder Wiederverbindung. Werte werden in einer Datei gepuffert, Quelle w√§hlbar (Datei/BUS). |
| RBE‚ÄëFilter | Wie oben, aber f√ºr Ausgaben zum Flow. |
| Auf Schreib‚ÄëTelegramme reagieren | Sendet bei eingehendem Write eine Nachricht an den Flow. |
| Auf Response‚ÄëTelegramme reagieren | Sendet bei Response eine Nachricht an den Flow. |
| Auf Lese‚ÄëTelegramme reagieren | Sendet bei Read eine Nachricht an den Flow (z. B. um eigene Werte zu liefern). |
| Multiply/Decimals/Negatives | Skaliert, rundet und behandelt negative Werte (nur numerische Werte). |

## TAB KNX Function

Mit JavaScript kannst du das Verhalten eingehender Nachrichten (vom Flow) und ausgehender Telegramme (zum BUS) anpassen. Der Editor stellt Hilfsobjekte und ‚Äëfunktionen bereit, um GA‚ÄëWerte zu lesen - mit ETS (ohne DPT) oder ohne ETS (mit DPT).
Der Code l√§uft bei jeder Eingangs‚ÄëNachricht und bei jedem BUS‚ÄëTelegramm. Bei Aktivierung erscheint "f(x)" im Nodename.

|Eigenschaft|Beschreibung|
|--|--|
| Search GA | Nur mit importierter ETS: tippen, GA w√§hlen und das Feld in `getGAValue` einf√ºgen. |

### Verf√ºgbare Objekte/Funktionen

|Objekt/Funktion|Beschreibung|
|--|--|
| `msg` | Aktuelle Nachricht. |
| `getGAValue(GA, DPT?)` | Liest den Wert einer GA, z. B. `'1/0/1'` oder `'1/0/1 Bed table light'` (Text nach Leerzeichen wird ignoriert). DPT nur ohne ETS erforderlich. |
| `setGAValue(GA, value, DPT?)` | Setzt den Wert der GA; DPT wie oben. |
| `self(value)` | Setzt den eigenen Node‚ÄëWert und sendet ihn an den BUS (Achtung Schleifen). |
| `toggle()` | Toggeln wie `self`. |
| `node`, `RED`, `return(msg)` | Node‚ÄëObjekt, RED‚ÄëObjekt, R√ºckgabe der Nachricht. |

### Beispiele (Flow ‚Üí BUS)

```javascript
const statusGA = getGAValue('0/0/09','1.001');
if (msg.payload !== statusGA){ return msg; } else { return; }
```

```javascript
if (msg.payload){
 setGAValue('0/1/8', true)
 setTimeout(function(){ self(off); }, 2000);
}
return msg;
```

### Beispiele (BUS ‚Üí Ausgang)

```javascript
msg.externalTemperature = getGAValue('0/0/10'); // ohne ETS: getGAValue('0/0/10','9.001')
return msg;
```

```javascript
if (msg.payload === false && getGAValue('0/0/11','1.001') === false){ return; } else { return msg; }
```

### Inputs **destination (string)**: 3‚Äëstufige GA, z. B. `1/1/0`. **payload (any)**: zu sendender Wert. **event (string)**: `GroupValue_Write`, `GroupValue_Response`, `Update_NoWrite` (nur interner Wert, kein BUS‚ÄëSenden). **readstatus (boolean)**: Leseauftrag an den BUS. **dpt (string)**: z. B. `1.001`. **writeraw (buffer)**, **bitlenght (int)**: RAW‚ÄëSenden, `bitlenght` in Bit. **resetRBE (boolean)**: RBE‚ÄëFilter zur√ºcksetzen. **setConfig (json)**: GA/DPT des Nodes per Nachricht √§ndern.

### setConfig Details

```javascript
var config= { setGroupAddress: "0/1/2", setDPT: "1.001" };
msg.setConfig = config; return msg;
```

```javascript
var config= { setGroupAddress: "0/1/2", setDPT: "auto" };
msg.setConfig = config; return msg;
```

### Outputs

1. Standardausgang: `payload` am PIN 1.
2. Fehler: `error` am PIN 2.

### Ausgehende Nachricht (Beispiel)

```json
msg = {
 topic: "0/1/2",
 payload: false,
 previouspayload: true,
 payloadmeasureunit: "%",
 payloadsubtypevalue: "Start",
 devicename: "Esstischlampe",
 gainfo: {
 maingroupname: "Light actuators",
 middlegroupname: "First flow lights",
 ganame: "Table Light",
 maingroupnumber: "1",
 middlegroupnumber: "1",
 ganumber: "0"
 },
 echoed: true,
 knx: {
 event: "GroupValue_Write",
 dpt: "1.001",
 dptdesc: "Humidity",
 source: "15.15.22",
 destination: "0/1/2",
 rawValue: "<buffer>"
 }
}
```

---

# EINGANGS‚ÄëNACHRICHT AUS DEM FLOW

## KNX‚ÄëGer√§te steuern

Der Node nimmt Nachrichten entgegen und sendet sie auf den KNX‚ÄëBUS; eingehende BUS‚ÄëTelegramme werden als Nachrichten an den Flow ausgegeben. Alle Eigenschaften optional, au√üer `payload`. **msg.destination**: z. B. `0/0/1`. **msg.payload**: z. B. `true/false/21/"Hello"`. **msg.event**: `GroupValue_Write`/`GroupValue_Response`/`Update_NoWrite`. Bei `Update_NoWrite` geben alle Nodes mit derselben GA eine Meldung mit `event: 'Update_NoWrite'` aus.

F√ºr Read statt `event` bitte `msg.readstatus = true` verwenden. **msg.readstatus = true**: Read an den BUS. **msg.dpt**: z. B. `1.001` (auch `9`, `"9"`, `"DPT9.001"`). **msg.writeraw**, **msg.bitlenght**: RAW‚ÄëSenden; ignoriert den am Node gesetzten DPT. **msg.resetRBE = true**: RBE‚ÄëFilter zur√ºcksetzen.

## Konfiguration per Nachricht √§ndern

[Siehe Beispielseite.](/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig)

---

# QUICK HOW TO

Weitere Beispiele [hier](/node-red-contrib-knx-ultimate/wiki/-SamplesHome) **LAMPE EINSCHALTEN** ```javascript
msg.payload = true; return msg;
``` **ABSOLUTES DIMMEN** ```javascript
msg.payload = 30; return msg;
``` **TEXT AN DISPLAY** ```javascript
msg.payload = "Output Tem. 35¬∞C"; return msg;
``` **STATUS LESEN** ```javascript
msg.readstatus = true; return msg;
``` **RAW AN BUS SENDEN** ```javascript
msg.writeraw = Buffer.from('01','hex');
msg.bitlenght = 1; return msg;
// Temperatur (DPT9): 18.4 ¬∞C = <0730>
// msg.writeraw = Buffer.from('0730','hex'); return msg;
```
