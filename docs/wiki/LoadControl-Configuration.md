üåê Language: [EN](/node-red-contrib-knx-ultimate/wiki/LoadControl-Configuration) | [IT](/node-red-contrib-knx-ultimate/wiki/it-LoadControl-Configuration) | [DE](/node-red-contrib-knx-ultimate/wiki/de-LoadControl-Configuration) | [FR](/node-red-contrib-knx-ultimate/wiki/fr-LoadControl-Configuration) | [ES](/node-red-contrib-knx-ultimate/wiki/es-LoadControl-Configuration) | [ÁÆÄ‰Ωì‰∏≠Êñá](/node-red-contrib-knx-ultimate/wiki/zh-CN-LoadControl-Configuration)
<!-- NAV START -->
Navigation: [Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Home)  
Overview: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) ‚Ä¢ [FAQ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/FAQ-Troubleshoot) ‚Ä¢ [Security](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SECURITY) ‚Ä¢ [Docs: Language bar](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Docs-Language-Bar)  
KNX Device: [Gateway](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Gateway-configuration) ‚Ä¢ [Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Device) ‚Ä¢ [Protections](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Protections)  
Other KNX Nodes: [Scene Controller](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SceneController-Configuration) ‚Ä¢ [WatchDog](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/WatchDog-Configuration) ‚Ä¢ [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Configuration) ‚Ä¢ [Global Context](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/GlobalVariable) ‚Ä¢ [Alerter](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Alerter-Configuration) ‚Ä¢ [Load Control](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/LoadControl-Configuration) ‚Ä¢ [Viewer](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [Auto Responder](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/KNXAutoResponder) ‚Ä¢ [HA Translator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HATranslator) ‚Ä¢ [IoT Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/IoT-Bridge-Configuration)  
HUE: [Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Bridge+configuration) ‚Ä¢ [Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Light) ‚Ä¢ [Battery](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Battery) ‚Ä¢ [Button](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Button) ‚Ä¢ [Contact](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Contact+sensor) ‚Ä¢ [Device SW update](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Device+software+update) ‚Ä¢ [Light sensor](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Light+sensor) ‚Ä¢ [Motion](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Motion) ‚Ä¢ [Scene](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Scene) ‚Ä¢ [Tap Dial](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Tapdial) ‚Ä¢ [Temperature](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Temperature+sensor) ‚Ä¢ [Zigbee connectivity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE+Zigbee+connectivity)  
Samples: [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Sample) ‚Ä¢ [Switch Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) ‚Ä¢ [Dimming](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) ‚Ä¢ [RGB color](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) ‚Ä¢ [RGBW color + White](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) ‚Ä¢ [Command a scene actuator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) ‚Ä¢ [Datapoint 213.x 4x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) ‚Ä¢ [Datapoint 222.x 3x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) ‚Ä¢ [Datapoint 237.x DALI diags](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) ‚Ä¢ [Datapoint 2.x 1 bit proprity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) ‚Ä¢ [Datapoint 22.x RCHH Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) ‚Ä¢ [Datetime to BUS](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) ‚Ä¢ [Read Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) ‚Ä¢ [Virtual Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) ‚Ä¢ [Subtype decoded](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) ‚Ä¢ [Alexa](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) ‚Ä¢ [Apple Homekit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) ‚Ä¢ [Google Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) ‚Ä¢ [Switch on/off POE port of Unifi switch](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) ‚Ä¢ [Set configuration by msg](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) ‚Ä¢ [Scene Controller node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) ‚Ä¢ [WatchDog node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) ‚Ä¢ [Global Context node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) ‚Ä¢ [Alerter node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleAlerter) ‚Ä¢ [Load control node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) ‚Ä¢ [Viewer node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [MySQL, InfluxDB, MQTT Sample](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB)
<!-- NAV END -->
---
# KNX LOAD CONTROL NODE
<p>With the Load Control node you can automatically manage the disconnection of loads (washing machine, oven, etc.) when the current consumption exceeds a certain threshold.
The devices are turned off intelligently, checking the possible consumption of the device to determine whether to turn it off together with others. <br/>
The node can automatically reactivate the loads. <br/>
The node turns off one device (or multiple devices) at a time, based on the order you have selected.<br/>
**General**
|Property|Description|
|--|--|
| Gateway | KNX gateway. It is also possible not to select any gateway; in this case, only incoming messages to the node will be considered. |
| Monitor Wh | Group address representing the total consumption of your building. |
| Limit Wh | Maximum threshold that your electricity meter can withstand. When this threshold is exceeded, the node starts to turn off the devices. |
| Delay switch off (s) | Expressed in seconds, indicates how often the node will evaluate consumption and switch off each device. |
| Delay switch on (s) | Expressed in seconds, indicates how often the node will evaluate consumption and turn on each device that was turned off. |
<br/>
**LOAD CONTROL**
Here you can add devices to turn off in case of overload. <br/>
Choose the device to turn off. Enter the device name or its group address. <br/>
Enter any group address that indicates the consumption of the device chosen in the first line. **This is an optional parameter** . If the device is consuming more than a certain number of Watts, it means that it is in use. If it consumes less, the device will be considered "not in use" and both this and the next will be turned off at once.<br/>
If _Automatic recovery_ is enabled, the device is automatically reactivated when the "reset delay" expires.
## Inputs
|Property|Description|
|--|--|
| `msg.readstatus = true` | Force the reading of the values from the KNX BUS of each device in the list. _ **The node already does everything by itself** _, but if necessary, it is possible to use this command to force a re-reading of the current values in watt.|
| `msg.enable = true` | Enable the load control.|
| `msg.disable = true` | Disable the load control.|
| `msg.reset = true` | Reset node states and turn all devices back on.|
| `msg.shedding` | String. _shed_ to start the formward shedding sequence, _unshed_ to start reverse shedding. Use this msg to force the shedding timer to start/stop, ignoring the **Monitor Wh ** group address. Set _auto_ to enable again the**Monitor Wh** group address monitoring. |
## Outputs
1. Standard output
   : payload (string|object) : the standard output of the command.
## Details
```javascript
msg = {
  "topic": "Home Total Consumption", // Node Name
  "operation": "Increase Shedding" or "Decrease Shedding" or operation reflecting the input message (disable, enable, reset), // Operation
  "device": "Washing machine", // Device shedded
  "ga": "", // Group address of the shedded device
  "totalPowerConsumption": 3100, // Current power consumption
  "wattLimit": 3000, // Limit you set in the config window
  "payload": 1, // Current shedding stage
}
```
# Sample
<a href="/node-red-contrib-knx-ultimate/wiki/SampleLoadControl">CLICK HERE FOR THE EXAMPLE</a>
<br/>
