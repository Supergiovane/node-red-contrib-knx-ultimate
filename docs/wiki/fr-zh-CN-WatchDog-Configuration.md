üåê Language: [EN](/node-red-contrib-knx-ultimate/wiki/WatchDog-Configuration) | [IT](/node-red-contrib-knx-ultimate/wiki/it-WatchDog-Configuration) | [DE](/node-red-contrib-knx-ultimate/wiki/de-WatchDog-Configuration) | [FR](/node-red-contrib-knx-ultimate/wiki/fr-WatchDog-Configuration) | [ES](/node-red-contrib-knx-ultimate/wiki/es-WatchDog-Configuration) | [ÁÆÄ‰Ωì‰∏≠Êñá](/node-red-contrib-knx-ultimate/wiki/zh-CN-WatchDog-Configuration)
<!-- NAV START -->
Navigation: [Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Home)  
Overview: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) ‚Ä¢ [FAQ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/FAQ-Troubleshoot) ‚Ä¢ [Security](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SECURITY) ‚Ä¢ [Docs: Language bar](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Docs-Language-Bar)  
KNX Device: [Gateway](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Gateway-configuration) ‚Ä¢ [Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Device) ‚Ä¢ [Protections](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Protections)  
Other KNX Nodes: [Scene Controller](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SceneController-Configuration) ‚Ä¢ [WatchDog](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/WatchDog-Configuration) ‚Ä¢ [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Configuration) ‚Ä¢ [Global Context](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/GlobalVariable) ‚Ä¢ [Alerter](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Alerter-Configuration) ‚Ä¢ [Load Control](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/LoadControl-Configuration) ‚Ä¢ [Viewer](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [Auto Responder](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/KNXAutoResponder) ‚Ä¢ [HA Translator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HATranslator) ‚Ä¢ [IoT Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/IoT-Bridge-Configuration)  
HUE: [Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Bridge%20configuration) ‚Ä¢ [Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Light) ‚Ä¢ [Battery](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Battery) ‚Ä¢ [Button](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Button) ‚Ä¢ [Contact](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Contact%20sensor) ‚Ä¢ [Device SW update](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Device%20software%20update) ‚Ä¢ [Light sensor](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Light%20sensor) ‚Ä¢ [Motion](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Motion) ‚Ä¢ [Scene](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Scene) ‚Ä¢ [Tap Dial](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Tapdial) ‚Ä¢ [Temperature](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Temperature%20sensor) ‚Ä¢ [Zigbee connectivity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/HUE%20Zigbee%20connectivity)  
Samples: [Logger](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Logger-Sample) ‚Ä¢ [Switch Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) ‚Ä¢ [Dimming](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) ‚Ä¢ [RGB color](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) ‚Ä¢ [RGBW color + White](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) ‚Ä¢ [Command a scene actuator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) ‚Ä¢ [Datapoint 213.x 4x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) ‚Ä¢ [Datapoint 222.x 3x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) ‚Ä¢ [Datapoint 237.x DALI diags](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) ‚Ä¢ [Datapoint 2.x 1 bit proprity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) ‚Ä¢ [Datapoint 22.x RCHH Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) ‚Ä¢ [Datetime to BUS](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) ‚Ä¢ [Read Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) ‚Ä¢ [Virtual Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) ‚Ä¢ [Subtype decoded](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) ‚Ä¢ [Alexa](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) ‚Ä¢ [Apple Homekit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) ‚Ä¢ [Google Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) ‚Ä¢ [Switch on/off POE port of Unifi switch](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) ‚Ä¢ [Set configuration by msg](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) ‚Ä¢ [Scene Controller node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) ‚Ä¢ [WatchDog node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) ‚Ä¢ [Global Context node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) ‚Ä¢ [Alerter node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleAlerter) ‚Ä¢ [Load control node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) ‚Ä¢ [Viewer node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) ‚Ä¢ [MySQL, InfluxDB, MQTT Sample](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB)
<!-- NAV END -->
---
# Watchdog (Watchdog)
Utilis√© pour d√©tecter l'√©tat de connexion avec une passerelle ou un appareil KNX sp√©cifique et effectuer des op√©rations automatis√©es en cas de d√©faillance.
**Fonction**
1. Envoyez des messages p√©riodiquement et attendez une r√©ponse. Si la connexion du bus est anormale, diffusez les messages au processus.Deux niveaux de d√©tection sont disponibles (voir ci-dessous).
2. Modifiez les param√®tres de passerelle du n≈ìud de configuration (config-node) via le message pour r√©aliser la commutation du routeur / interface KNX / IP (tel que la commutation de support ma√Ætre).
3. Force l'√©tablissement / d√©connexion du bus KNX.
## D√©tection de couche de couche Ethernet et KNX
Watchdog fournit des tests √† deux niveaux:
- Niveau Ethernet: d√©tecter uniquement la connectivit√© entre KNX-ultimate et l'interface KNX / IP (unicast).
- Ethernet + KNX - TP: v√©rifiez l'int√©gralit√© du lien (Ethernet ‚Üí TP).Un appareil physique qui r√©pond aux demandes de lecture est requis.
Convient pour les alarmes d'erreur d'erreur / connexion (notifications par e-mail, commutation automatique de passerelle de sauvegarde, etc.).
## Param√®tres (param√®tres)
| Propri√©t√©s | Description |
|-|-|
| Passerelle | Gateway KNX s√©lectionn√©. |
|Adresse du groupe √† surveiller |Adresse de groupe utilis√©e pour l'envoi et la surveillance; DPT doit √™tre 1.x (bool√©en).|
| Nom | Nom du n≈ìud. |
|D√©marrer automatiquement la minuterie de chien de garde | D√©marrez automatiquement la minuterie sur le d√©ploiement / d√©marrage. |
| Niveau de contr√¥le |Voir ci-dessus. |
**V√©rifier le niveau**
> Ethernet: d√©tecter les connexions entre KNX-ultimate (unicast) et l'interface KNX / IP. <br/>
> Ethernet + KNX TP: d√©tection compl√®te (prend en charge le routeur / interface).Envoyer lire √† l'appareil physique et attendre la r√©ponse;Toute √©chec sur Ethernet ou TP sera signal√©e.Veuillez configurer un **√âtat** GA dans ETS pour un actionneur qui r√©pond √† la lecture. <br/>
## Options avanc√©es
| Propri√©t√©s | Description |
|-|-|
| Intervalle de r√©ception (en secondes) | Intervalle de d√©tection en secondes. |
| Nombre de r√©essayer avant de donner une erreur |Combien d'√©checs cons√©cutifs sont signal√©s. |
# Sortie de chien de garde
Watchdog publie un message lorsque la d√©tection interne trouve un d√©faut, ou qu'un n≈ìud ultime KNX signale une erreur dans le processus.
**Probl√®me de connexion de Watchdog**
<a href = "https://github.com/supergiovane/node-red-constrib-knx-ultimate/wiki/watchdog-configuration" cible = "_ Blank"> Voir ici pour les d√©tails </a>```javascript
msg = {
  type: "BUSError",
  checkPerformed: "Ethernet" // Êàñ "Eth+KNX",
  nodeid: "23HJ.2355",
  payload: true,
  description: "..."
}
``` **Exception s'est produite sur l'un de vos n≈ìuds ultimes KNX** ```javascript
msg = {
  type: "NodeError",
  checkPerformed: "Self KNX-Ultimate node reporting a red color status",
  nodeid: "23HJ.2355",
  payload: true,
  description: "...",
  completeError: {
    nodeid: "23HJ.2355",
    topic: "0/1/1",
    devicename: "Kitchen Light",
    GA: "0/1/1"
  }
}
``` **Modifier la configuration de la passerelle via setgatewayconfig** ```javascript
msg = {
  type: "setGatewayConfig",
  checkPerformed: "The Watchdog node changed the gateway configuration.",
  nodeid: "23HJ.2355",
  payload: true,
  description: "New Config issued to the gateway. IP:224.0.23.12 Port:3671 PhysicalAddress:15.15.1\nBindLocalInterface:Auto",
  completeError: ""
}
``` **Connexion forc√©e / d√©connexion** ```javascript
msg = {
  type: "connectGateway",
  checkPerformed: "The Watchdog issued a connection/disconnection to the gateway.",
  nodeid: "23HJ.2355",
  payload: true, // true=ËøûÊé•Ôºåfalse=Êñ≠ÂºÄ
  description: "Connection",
  completeError: ""
}
```---
# Entrez le message (entr√©e)
## start / stop watddog```javascript
msg.start = true; return msg; // ÂêØÂä®
```
```javascript
msg.start = false; return msg; // ÂÅúÊ≠¢
```## Modifier les param√®tres de passerelle KNX / IP pendant l'ex√©cution
Modifier IP / Port / PhysicalAddress / Protocol, etc. via `msg.setgatewayconfig`; Le n≈ìud de configuration s'appliquera √† la reconnexion.Node - Red se restaure aux param√®tres du n≈ìud de configuration apr√®s le red√©marrage.Tous les param√®tres sont facultatifs.```javascript
msg.setGatewayConfig = { IP:"224.0.23.12", Port:3671, PhysicalAddress:"15.15.1", BindToEthernetInterface:"Auto",
  Protocol:"Multicast", importCSV:`"Group name" "Address" "Central" "Unfiltered" "Description" "DatapointType" "Security"
"Attuatori luci" "0/-/-" "" "" "" "" "Auto"
"Luci primo piano" "0/0/-" "" "" "" "" "Auto"
"Luce camera da letto" "0/0/1" "" "" "" "DPST-1-1" "Auto"` };
return msg;
```Changez uniquement l'IP:```javascript
msg.setGatewayConfig = { IP:"224.0.23.12" }; return msg;
``` **D√©connexion forc√©e et d√©sactiver la reconnexion automatique** ```javascript
msg.connectGateway = false; return msg;
``` **Connexion forc√©e et activer la reconnexion automatique** ```javascript
msg.connectGateway = true; return msg;
```## Voir
[Exemple de chien de garde](/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog)
