ğŸŒ Language: [EN](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SceneController-Configuration) | [IT](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/it-SceneController-Configuration) | [DE](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-SceneController-Configuration) | [FR](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/fr-SceneController-Configuration) | [ES](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/es-SceneController-Configuration) | [ç®€ä½“ä¸­æ–‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-SceneController-Configuration)

<!-- NAV START -->
å¯¼èˆª: [é¦–é¡µ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Home)  
æ¦‚è§ˆ: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) â€¢ [å¸¸è§é—®é¢˜](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-FAQ-Troubleshoot) â€¢ [å®‰å…¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-SECURITY) â€¢ [æ–‡æ¡£ï¼šè¯­è¨€æ ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Docs-Language-Bar)  
KNX è®¾å¤‡: [ç½‘å…³](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Gateway-configuration) â€¢ [è®¾å¤‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Device) â€¢ [èŠ‚ç‚¹ä¿æŠ¤](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Protections)  
å…¶ä»– KNX èŠ‚ç‚¹: [åœºæ™¯æ§åˆ¶å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-SceneController-Configuration) â€¢ [çœ‹é—¨ç‹—](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-WatchDog-Configuration) â€¢ [æ—¥å¿—èŠ‚ç‚¹](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Logger-Configuration) â€¢ [å…¨å±€ä¸Šä¸‹æ–‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-GlobalVariable) â€¢ [å‘Šè­¦å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Alerter-Configuration) â€¢ [è´Ÿè½½æ§åˆ¶](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-LoadControl-Configuration) â€¢ [æŸ¥çœ‹å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-knxUltimateViewer) â€¢ [è‡ªåŠ¨å“åº”](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-KNXAutoResponder) â€¢ [HA ç¿»è¯‘å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HATranslator) â€¢ [ç‰©è”ç½‘æ¡¥æ¥](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-IoT-Bridge-Configuration)  
HUE: [Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Bridge%20configuration) â€¢ [ç¯](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Light) â€¢ [ç”µæ± ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Battery) â€¢ [æŒ‰é’®](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Button) â€¢ [æ¥è§¦](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Contact%20sensor) â€¢ [è®¾å¤‡è½¯ä»¶æ›´æ–°](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Device%20software%20update) â€¢ [å…‰ç…§ä¼ æ„Ÿå™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Light%20sensor) â€¢ [è¿åŠ¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Motion) â€¢ [åœºæ™¯](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Scene) â€¢ [Tap Dial](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Tapdial) â€¢ [æ¸©åº¦](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Temperature%20sensor) â€¢ [Zigbee è¿æ¥](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE%20Zigbee%20connectivity)  
ç¤ºä¾‹: [æ—¥å¿—](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Logger-Sample) â€¢ [Switch Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) â€¢ [Dimming](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) â€¢ [RGB color](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) â€¢ [RGBW color + White](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) â€¢ [Command a scene actuator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) â€¢ [Datapoint 213.x 4x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) â€¢ [Datapoint 222.x 3x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) â€¢ [Datapoint 237.x DALI diags](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) â€¢ [Datapoint 2.x 1 bit proprity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) â€¢ [Datapoint 22.x RCHH Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) â€¢ [Datetime to BUS](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) â€¢ [Read Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) â€¢ [Virtual Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) â€¢ [Subtype decoded](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) â€¢ [Alexa](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) â€¢ [Apple Homekit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) â€¢ [Google Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) â€¢ [Switch on/off POE port of Unifi switch](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) â€¢ [Set configuration by msg](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) â€¢ [Scene Controller node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) â€¢ [WatchDog node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) â€¢ [Global Context node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) â€¢ [Alerter node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleAlerter) â€¢ [Load control node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) â€¢ [Viewer node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) â€¢ [MySQL, InfluxDB, MQTT Sample](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB)
<!-- NAV END -->

# Scene Controllerï¼ˆåœºæ™¯æ§åˆ¶å™¨ï¼‰

è¯¥èŠ‚ç‚¹ä¸ KNX åœºæ™¯æ§åˆ¶å™¨ä¸€è‡´ï¼šå¯ä»¥ä¿å­˜å’Œå¬å›åœºæ™¯ã€‚

## èŠ‚ç‚¹è®¾ç½®

| å±æ€§ | è¯´æ˜ |
|--|--|
| Gateway | é€‰æ‹©çš„ KNX ç½‘å…³ã€‚|
| Scene Recall | **Datapoint ** ä¸**Trigger Value** ã€‚ç”¨äºå¬å›åœºæ™¯çš„ç»„åœ°å€ï¼ˆå¦‚ `0/0/1`ï¼‰ã€‚èŠ‚ç‚¹åœ¨æ­¤ GA æ”¶åˆ°æŠ¥æ–‡å³å¬å›åœºæ™¯ã€‚DPT ä¸ºå¬å› GA çš„ç±»å‹ï¼›Trigger Value ä¸ºè§¦å‘å¬å›æ‰€éœ€çš„æ•°å€¼ã€‚æç¤ºï¼šè‹¥ç”¨ DIM æ–¹å¼è§¦å‘ï¼Œè¯·è®¾ç½®æ­£ç¡®çš„è°ƒå…‰å¯¹è±¡å€¼ï¼ˆ`{decr_incr:1,data:5}` ä¸Šè°ƒã€`{decr_incr:0,data:5}` ä¸‹è°ƒï¼‰ã€‚|
| Scene Save | **Datapoint ** ä¸**Trigger Value** ã€‚ç”¨äºä¿å­˜åœºæ™¯çš„ç»„åœ°å€ï¼ˆå¦‚ `0/0/2`ï¼‰ã€‚èŠ‚ç‚¹åœ¨æ”¶åˆ°æŠ¥æ–‡æ—¶ï¼Œä¿å­˜åœºæ™¯å†…æ‰€æœ‰è®¾å¤‡çš„å½“å‰å€¼ï¼ˆéæ˜“å¤±å­˜å‚¨ï¼‰ã€‚DPT ä¸ºä¿å­˜ GA çš„ç±»å‹ï¼›Trigger Value è§¦å‘ä¿å­˜ï¼ˆDIM åŒä¸Šï¼‰ã€‚|
| Node name | èŠ‚ç‚¹åç§°ï¼ˆå¯å†™"Recall: â€¦ / Save: â€¦â€ï¼‰ã€‚|
| Topic | èŠ‚ç‚¹çš„ topicã€‚|

## åœºæ™¯é…ç½®

åƒçœŸå® KNX åœºæ™¯æ§åˆ¶å™¨ä¸€æ ·ï¼Œä¸ºåœºæ™¯æ·»åŠ è®¾å¤‡ï¼›æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªè®¾å¤‡ã€‚

ä¸€æ—¦ä»æ€»çº¿æ¥æ”¶åˆ°æ–°å€¼ï¼ŒèŠ‚ç‚¹ä¼šè‡ªåŠ¨è®°å½•è¯¥åœºæ™¯å†…æ‰§è¡Œå™¨çš„æœ€æ–°å€¼ã€‚

| å±æ€§ | è¯´æ˜ |
|--|--|
| ADD æŒ‰é’® | æ–°å¢ä¸€è¡Œã€‚|
| è¡Œå­—æ®µ | 1ï¼‰ç»„åœ°å€ 2ï¼‰Datapoint 3ï¼‰é»˜è®¤åœºæ™¯å€¼ï¼ˆå¯è¢« Scene Save è¦†ç›–ï¼‰ã€‚ä¸‹æ–¹ä¸ºè®¾å¤‡åã€‚
 æ’å…¥æš‚åœï¼šåœ¨ç¬¬ä¸€åˆ—å¡« **wait ** ï¼Œæœ€åä¸€åˆ—å¡«æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œå¦‚ `2000`ã€‚
**wait** ä¹Ÿæ”¯æŒç§’/åˆ†/å°æ—¶ï¼š`12s`ã€`5m`ã€`1h`ã€‚|
| Remove | ç§»é™¤è¯¥è®¾å¤‡è¡Œã€‚|

## èŠ‚ç‚¹è¾“å‡º

```javascript
msg = {
  topic: "Scene Controller",
  recallscene: true|false,
  savescene: true|false,
  savevalue: true|false,
  disabled: true|false
}
```

---

## è¾“å…¥æ¶ˆæ¯ï¼ˆINPUTï¼‰

èŠ‚ç‚¹ä¸»è¦ä¾é  KNX æŠ¥æ–‡è¿›è¡Œåœºæ™¯çš„å¬å›/ä¿å­˜ï¼›ä¹Ÿå¯é€šè¿‡æ¶ˆæ¯è¿›è¡Œæ§åˆ¶ã€‚å¯ç¦ç”¨æ¥è‡ªæ€»çº¿çš„å‘½ä»¤ï¼Œä»…æ¥å—æµç¨‹æ¶ˆæ¯ã€‚

**å¬å›åœºæ™¯**

```javascript
msg.recallscene = true; return msg;
```

**ä¿å­˜åœºæ™¯**

```javascript
msg.savescene = true; return msg;
```

**ä¿å­˜æŸæ¡ GA çš„å½“å‰å€¼**

è™½ç„¶åœºæ™¯ä¼šè‡ªåŠ¨è·Ÿè¸ªæ‰§è¡Œå™¨çš„æ•°å€¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦ä»¥"çœŸå®åœºæ™¯å€¼â€è®°å½•å¦ä¸€æ¡ GAï¼ˆå¦‚çŠ¶æ€è€Œéå‘½ä»¤ï¼‰çš„å½“å‰å€¼ã€‚

ä¾‹å¦‚å·å¸˜ï¼šç»å¯¹é«˜åº¦çš„çŠ¶æ€ GA æ‰èƒ½åæ˜ å‡†ç¡®ä½ç½®ã€‚å¯ç”¨è¯¥çŠ¶æ€ GA å»æ›´æ–°åœºæ™¯å†…ç›¸å…³æ‰§è¡Œå™¨çš„å‘½ä»¤ GAã€‚

```javascript
msg.savevalue = true;
msg.topic = "0/1/1"; // GA
msg.payload = 70; // è¦ä¿å­˜çš„å€¼
return msg;
```

**ç¦ç”¨ Scene Controller**

ç¦ç”¨æ¥è‡ª KNX æ€»çº¿çš„å‘½ä»¤ï¼ˆä»æ¥å—æµç¨‹æ¶ˆæ¯ï¼‰ã€‚ä¾‹å¦‚å¤œé—´ä¸å¸Œæœ›ä»å®ä½“æŒ‰é’®å¬å›/ä¿å­˜åœºæ™¯æ—¶å¾ˆæœ‰ç”¨ã€‚

```javascript
msg.disabled = true; // false é‡æ–°å¯ç”¨
return msg;
```

## å‚è§

[Sample Scene Controller](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node)
