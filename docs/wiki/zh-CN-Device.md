ğŸŒ Language: [EN](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Device) | [IT](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/it-Device) | [DE](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/de-Device) | [FR](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/fr-Device) | [ES](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/es-Device) | [ç®€ä½“ä¸­æ–‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Device)

<!-- NAV START -->
å¯¼èˆª: [é¦–é¡µ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Home)  
æ¦‚è§ˆ: [Changelog](https://github.com/Supergiovane/node-red-contrib-knx-ultimate/blob/master/CHANGELOG.md) â€¢ [å¸¸è§é—®é¢˜](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-FAQ-Troubleshoot) â€¢ [å®‰å…¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-SECURITY) â€¢ [æ–‡æ¡£ï¼šè¯­è¨€æ ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Docs-Language-Bar)  
KNX è®¾å¤‡: [ç½‘å…³](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Gateway-configuration) â€¢ [è®¾å¤‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Device) â€¢ [èŠ‚ç‚¹ä¿æŠ¤](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Protections)  
å…¶ä»– KNX èŠ‚ç‚¹: [åœºæ™¯æ§åˆ¶å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-SceneController-Configuration) â€¢ [çœ‹é—¨ç‹—](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-WatchDog-Configuration) â€¢ [æ—¥å¿—èŠ‚ç‚¹](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Logger-Configuration) â€¢ [å…¨å±€ä¸Šä¸‹æ–‡](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-GlobalVariable) â€¢ [å‘Šè­¦å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Alerter-Configuration) â€¢ [è´Ÿè½½æ§åˆ¶](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-LoadControl-Configuration) â€¢ [æŸ¥çœ‹å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-knxUltimateViewer) â€¢ [è‡ªåŠ¨å“åº”](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-KNXAutoResponder) â€¢ [HA ç¿»è¯‘å™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HATranslator) â€¢ [ç‰©è”ç½‘æ¡¥æ¥](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-IoT-Bridge-Configuration)  
HUE: [Bridge](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Bridge+configuration) â€¢ [ç¯](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Light) â€¢ [ç”µæ± ](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Battery) â€¢ [æŒ‰é’®](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Button) â€¢ [æ¥è§¦](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Contact+sensor) â€¢ [è®¾å¤‡è½¯ä»¶æ›´æ–°](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Device+software+update) â€¢ [å…‰ç…§ä¼ æ„Ÿå™¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Light+sensor) â€¢ [è¿åŠ¨](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Motion) â€¢ [åœºæ™¯](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Scene) â€¢ [Tap Dial](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Tapdial) â€¢ [æ¸©åº¦](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Temperature+sensor) â€¢ [Zigbee è¿æ¥](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-HUE+Zigbee+connectivity)  
ç¤ºä¾‹: [æ—¥å¿—](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/zh-CN-Logger-Sample) â€¢ [Switch Light](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Switch-light) â€¢ [Dimming](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Dimming) â€¢ [RGB color](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGB-Color) â€¢ [RGBW color + White](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---RGBW-Color-plus-White) â€¢ [Command a scene actuator](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Control-a-scene-actuator) â€¢ [Datapoint 213.x 4x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT213) â€¢ [Datapoint 222.x 3x Setpoint](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT222) â€¢ [Datapoint 237.x DALI diags](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT237) â€¢ [Datapoint 2.x 1 bit proprity](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT2) â€¢ [Datapoint 22.x RCHH Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DPT22) â€¢ [Datetime to BUS](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---DateTime-to-BUS) â€¢ [Read Status](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Read-value-from-Device) â€¢ [Virtual Device](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Virtual-Device) â€¢ [Subtype decoded](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Subtype) â€¢ [Alexa](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Alexa) â€¢ [Apple Homekit](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Apple-Homekit) â€¢ [Google Home](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---Google-Assistant) â€¢ [Switch on/off POE port of Unifi switch](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---UnifiPOE) â€¢ [Set configuration by msg](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig) â€¢ [Scene Controller node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-Scene-Node) â€¢ [WatchDog node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample---WatchDog) â€¢ [Global Context node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleGlobalContextNode) â€¢ [Alerter node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleAlerter) â€¢ [Load control node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/SampleLoadControl) â€¢ [Viewer node](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/knxUltimateViewer) â€¢ [MySQL, InfluxDB, MQTT Sample](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/Sample-KNX2MQTT-KNX2MySQL-KNX2InfluxDB)
<!-- NAV END -->

## KNXâ€‘ULTIMATE è®¾å¤‡èŠ‚ç‚¹è®¾ç½®

è¯¥èŠ‚ç‚¹ç”¨äºæ§åˆ¶ KNX ç»„åœ°å€ï¼ˆGroup Addressï¼‰ï¼Œæ˜¯æœ€å¸¸ç”¨çš„èŠ‚ç‚¹ã€‚

[<i class="fa fa-code"></i> ç¤ºä¾‹è¯·è§æ­¤å¤„](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-SamplesHome)

**é…ç½®**

|å±æ€§|è¯´æ˜|
|--|--|
| Gateway | é€‰æ‹©è¦ä½¿ç”¨çš„ KNX ç½‘å…³ |
| GA ç±»å‹ | ç»„åœ°å€ç±»å‹ã€‚é»˜è®¤ **3â€‘å±‚çº§ ** ï¼ˆå¯è¾“å…¥ä¸‰å±‚ç»„åœ°å€æˆ–åç§°ï¼Œè‹¥å·²å¯¼å…¥ ETSï¼‰ï¼›**Global ** å¯åŠ¨æ—¶ä»å…¨å±€å˜é‡è¯»å–ï¼›**Flow ** åœ¨æµç¨‹ä½œç”¨åŸŸè¯»å–ï¼›**$Env variable ** ä»ç¯å¢ƒå˜é‡è¯»å–ï¼›**é€šç”¨æ¨¡å¼ï¼ˆç›‘å¬æ‰€æœ‰ç»„åœ°å€ï¼‰** å¯¹æ‰€æœ‰ GA åšå‡ºå“åº”ã€‚|
| Group Addr. | éœ€è¦æ§åˆ¶çš„ç»„åœ°å€ã€‚è‹¥å·²å¯¼å…¥ ETSï¼Œå¯ç›´æ¥è¾“å…¥è®¾å¤‡åè¿›è¡ŒåŒ¹é…ã€‚ä¹Ÿå¯ç•™ç©ºï¼Œä¹‹åé€šè¿‡è¾“å…¥æ¶ˆæ¯ `msg.setConfig` è®¾ç½®ã€‚|
| Datapoint | ä¸èŠ‚ç‚¹å…³è”çš„ Datapointã€‚|

<br/>
<br/>

### æ‰‹åŠ¨å‘½ä»¤æŒ‰é’®

ç¼–è¾‘å™¨å¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹æ˜¾ç¤ºä¸€ä¸ªå°æŒ‰é’®ï¼Œç”¨äºæ‰‹åŠ¨å‘é€ KNX å‘½ä»¤ï¼Œæ— éœ€é¢å¤–çš„ Inject èŠ‚ç‚¹ã€‚

|å±æ€§|è¯´æ˜|
|--|--|
| æ˜¾ç¤ºæ‰‹åŠ¨æŒ‰é’® | åœ¨å·¥ä½œåŒºå’ŒèŠ‚ç‚¹åˆ—è¡¨ä¸­æ˜¾ç¤º/éšè—è¯¥æŒ‰é’®ã€‚|
| æŒ‰é’®åŠ¨ä½œ | è®¾ç½®ç‚¹å‡»åçš„æ“ä½œã€‚**å‘é€ KNX è¯»å–** ä¼šå‘é€æ ‡å‡†è¯»å–æŠ¥æ–‡ï¼›**åˆ‡æ¢å¸ƒå°”å€¼ï¼ˆå†™å…¥ï¼‰** é€‚ç”¨äº DPT 1.xï¼Œå¯åœ¨ _true_ / _false_ ä¹‹é—´åˆ‡æ¢ï¼›**å†™å…¥è‡ªå®šä¹‰å€¼** ä¼šå†™å…¥æŒ‡å®šå€¼ï¼ˆéœ€ä¸èŠ‚ç‚¹çš„ Datapoint ç±»å‹å…¼å®¹ï¼‰ã€‚|
| åˆ‡æ¢åˆå§‹çŠ¶æ€ | ï¼ˆä»…å¸ƒå°”å‹ Datapointï¼‰å®šä¹‰åˆ‡æ¢æ¨¡å¼çš„èµ·å§‹å€¼ã€‚èŠ‚ç‚¹ä¼šæ ¹æ®æ¥æ”¶åˆ°çš„ KNX æŠ¥æ–‡è‡ªåŠ¨æ›´æ–°çŠ¶æ€ã€‚|
| è‡ªå®šä¹‰å€¼ | â€œå†™å…¥è‡ªå®šä¹‰å€¼â€ æ¨¡å¼æ‰€ä½¿ç”¨çš„è½½è·ã€‚æ”¯æŒä»»ä½• JSON å­—é¢é‡ï¼Œä¾‹å¦‚ `42`ã€`true`ã€`"æ–‡æœ¬"` æˆ– `{ "red": 255 }`ã€‚|

ä»…åœ¨å¯ç”¨è¯¥é€‰é¡¹æ—¶æ‰ä¼šæ˜¾ç¤ºæŒ‰é’®ã€‚è‹¥èŠ‚ç‚¹å¤„äºé€šç”¨æ¨¡å¼ï¼Œåˆ™è¯»å–æ“ä½œè¢«ç¦ç”¨ï¼Œå› ä¸ºèŠ‚ç‚¹æ²¡æœ‰å›ºå®šçš„ç»„åœ°å€ã€‚

<br/>
<br/>

## TAB é«˜çº§é€‰é¡¹

|å±æ€§|è¯´æ˜|
|--|--|
|| **é€šç”¨** |
| èŠ‚ç‚¹åç§° | æ˜¾ç¤ºåã€‚|
| Topic | è¾“å‡ºæ¶ˆæ¯çš„ topicã€‚ç•™ç©ºåˆ™ä½¿ç”¨ç»„åœ°å€ã€‚|
| Passthrough | å°†è¾“å…¥æ¶ˆæ¯é€ä¼ åˆ°è¾“å‡ºã€‚|
|| **èŠ‚ç‚¹è¾“å…¥ â†’ KNX æ€»çº¿** |
| Telegram ç±»å‹ | `write` å‘é€å†™æŠ¥æ–‡ï¼ˆå¸¸ç”¨ï¼‰ï¼›ä¹Ÿå¯é€‰æ‹©å“åº”å…¶ä»–ç±»å‹ã€‚|
| RBE è¿‡æ»¤ | æŒ‰å˜åŒ–ä¸ŠæŠ¥ã€‚å¯ç”¨åï¼Œä»…å½“å€¼å˜åŒ–æ—¶æ‰å‘é€åˆ°æ€»çº¿ã€‚éœ€è¦é‡å¤å‘é€ç›¸åŒå€¼æ—¶è¯·å…³é—­ã€‚å¯ç”¨ååœ¨èŠ‚ç‚¹åä¸­æ˜¾ç¤º "rbeâ€ã€‚|
|| **KNX æ€»çº¿ â†’ èŠ‚ç‚¹è¾“å‡º** |
| å¯åŠ¨æ—¶è¯»å–çŠ¶æ€ | åœ¨ Nodeâ€‘RED å¯åŠ¨åŠæ¯æ¬¡é‡è¿æ—¶è¯»å– GA çŠ¶æ€ã€‚èŠ‚ç‚¹ä¼šç¼“å­˜å€¼åˆ°æ–‡ä»¶ï¼Œå¯é€‰æ‹©ä»æ–‡ä»¶æˆ–æ€»çº¿è¯»å–ã€‚|
| RBE è¿‡æ»¤ | åŒä¸Šï¼Œä½†ä½œç”¨äºè¾“å‡ºåˆ°æµç¨‹ã€‚|
| å“åº”å†™æŠ¥æ–‡ | æ”¶åˆ°å†™æŠ¥æ–‡æ—¶å‘æµç¨‹è¾“å‡ºä¸€æ¡æ¶ˆæ¯ã€‚|
| å“åº”åº”ç­”æŠ¥æ–‡ | æ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶å‘æµç¨‹è¾“å‡ºã€‚|
| å“åº”è¯»æŠ¥æ–‡ | æ”¶åˆ°è¯»æŠ¥æ–‡æ—¶å‘æµç¨‹è¾“å‡ºï¼ˆç”¨äºè‡ªå®šä¹‰è¿”å›å€¼ï¼‰ã€‚|
| Multiply/Decimals/Negatives | æ•°å€¼ç¼©æ”¾ã€å››èˆäº”å…¥ã€å°æ•°ä¸è´Ÿå€¼å¤„ç†ï¼ˆä»…æ•°å€¼ï¼‰ã€‚|

<br/>
<br/>

## TAB KNX Function

å¯ä½¿ç”¨ JavaScript è‡ªå®šä¹‰ï¼šå¯¹æ¥è‡ªæµç¨‹çš„è¾“å…¥æ¶ˆæ¯ã€ä»¥åŠå‘é€åˆ°æ€»çº¿çš„æŠ¥æ–‡çš„å¤„ç†é€»è¾‘ã€‚ç¼–è¾‘å™¨æä¾›è‹¥å¹²å¯¹è±¡/å‡½æ•°ï¼Œç”¨äºè¯»å–ä»»æ„ GA çš„å€¼ï¼šå¯¼å…¥ ETS æ—¶å¯ä¸æŒ‡å®š DPTï¼Œæœªå¯¼å…¥åˆ™éœ€æŒ‡å®š DPTã€‚
è„šæœ¬åœ¨æ¯æ¬¡æ”¶åˆ°è¾“å…¥æ¶ˆæ¯æˆ–æ€»çº¿æŠ¥æ–‡æ—¶æ‰§è¡Œã€‚å¯ç”¨åï¼ŒèŠ‚ç‚¹åä¼šæ˜¾ç¤º "f(x)â€ã€‚

|å±æ€§|è¯´æ˜|
|--|--|
| Search GA | ä»…åœ¨å·²å¯¼å…¥ ETS æ—¶å¯ç”¨ï¼šè¾“å…¥å¹¶é€‰æ‹© GAï¼Œç„¶åå°†å®Œæ•´å­—æ®µç²˜è´´åˆ° `getGAValue` ä¸­ã€‚|

### å¯ç”¨å¯¹è±¡/å‡½æ•°

|å¯¹è±¡/å‡½æ•°|è¯´æ˜|
|--|--|
| `msg` | å½“å‰æ¶ˆæ¯å¯¹è±¡ã€‚|
| `getGAValue(GA, DPT?)` | è¯»å– GA å€¼ï¼Œå¦‚ `'1/0/1'` æˆ– `'1/0/1 Bed table light'`ï¼ˆç©ºæ ¼åçš„æ–‡å­—è¢«å¿½ç•¥ï¼‰ã€‚æœªå¯¼å…¥ ETS æ—¶éœ€æä¾› DPTã€‚|
| `setGAValue(GA, value, DPT?)` | è®¾ç½® GA å€¼ï¼›DPT åŒä¸Šã€‚|
| `self(value)` | è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å€¼å¹¶å‘é€åˆ°æ€»çº¿ï¼ˆæ³¨æ„å¾ªç¯ï¼‰ã€‚|
| `toggle()` | åˆ‡æ¢å½“å‰å€¼å¹¶å‘é€åˆ°æ€»çº¿ã€‚|
| `node`, `RED`, `return(msg)` | èŠ‚ç‚¹å¯¹è±¡ï¼ŒRED å¯¹è±¡ï¼Œè¿”å›æ¶ˆæ¯ä»¥ç»§ç»­æµè½¬ã€‚|

### ç¤ºä¾‹ï¼ˆæµç¨‹ â†’ æ€»çº¿ï¼‰

```javascript
const statusGA = getGAValue('0/0/09','1.001');
if (msg.payload !== statusGA){ return msg; } else { return; }
```

```javascript
if (msg.payload){
  setGAValue('0/1/8', true)
  setTimeout(function(){ self(off); }, 2000);
}
return msg;
```

### ç¤ºä¾‹ï¼ˆæ€»çº¿ â†’ è¾“å‡ºï¼‰

```javascript
msg.externalTemperature = getGAValue('0/0/10'); // æœªå¯¼å…¥ ETSï¼šgetGAValue('0/0/10','9.001')
return msg;
```

```javascript
if (msg.payload === false && getGAValue('0/0/11','1.001') === false){ return; } else { return msg; }
```

### è¾“å…¥ï¼ˆInputsï¼‰

**destination (string) ** ï¼šä¸‰å±‚ç»„åœ°å€ï¼Œå¦‚ `1/1/0`ã€‚**payload (any) ** ï¼šè¦å‘é€çš„å€¼ã€‚**event (string) ** ï¼š`GroupValue_Write` / `GroupValue_Response` / `Update_NoWrite`ï¼ˆä»…æ›´æ–°å†…éƒ¨å€¼ï¼Œä¸å‘é€ï¼‰ã€‚**readstatus (boolean) ** ï¼šå‘æ€»çº¿å‘èµ·è¯»å–ã€‚**dpt (string) ** ï¼šå¦‚ `1.001`ã€‚**writeraw (buffer) ** ã€**bitlenght (int) ** ï¼šå‘é€ RAWï¼Œ`bitlenght` ä¸ºæ¯”ç‰¹é•¿åº¦ã€‚**resetRBE (boolean) ** ï¼šé‡ç½®å†…éƒ¨ RBE è¿‡æ»¤ã€‚**setConfig (json)** ï¼šé€šè¿‡æ¶ˆæ¯ä¿®æ”¹èŠ‚ç‚¹çš„ GA ä¸ DPTã€‚

### setConfig è¯¦æƒ…

```javascript
var config= { setGroupAddress: "0/1/2", setDPT: "1.001" };
msg.setConfig = config; return msg;
```

```javascript
var config= { setGroupAddress: "0/1/2", setDPT: "auto" };
msg.setConfig = config; return msg;
```

### è¾“å‡ºï¼ˆOutputsï¼‰

1. æ ‡å‡†è¾“å‡ºï¼šPIN1 ä¸Šçš„ `payload`ã€‚
2. é”™è¯¯ï¼šPIN2 ä¸Šçš„ `error`ï¼ˆè¯¦ç»†é”™è¯¯ï¼‰ã€‚

### è¾“å‡ºæ¶ˆæ¯ç¤ºä¾‹

```json
msg = {
  topic: "0/1/2",
  payload: false,
  previouspayload: true,
  payloadmeasureunit: "%",
  payloadsubtypevalue: "Start",
  devicename: "é¤æ¡Œç¯",
  gainfo: {
    maingroupname: "Light actuators",
    middlegroupname: "First flow lights",
    ganame: "Table Light",
    maingroupnumber: "1",
    middlegroupnumber: "1",
    ganumber: "0"
  },
  echoed: true,
  knx: {
    event: "GroupValue_Write",
    dpt: "1.001",
    dptdesc: "Humidity",
    source: "15.15.22",
    destination: "0/1/2",
    rawValue: "<buffer>"
  }
}
```

---

# æµç¨‹è¾“å…¥æ¶ˆæ¯ï¼ˆINPUT FLOW MESSAGEï¼‰

## æ§åˆ¶ KNX è®¾å¤‡

èŠ‚ç‚¹ä¼šå°†æ¥è‡ªæµç¨‹çš„æ¶ˆæ¯å‘é€åˆ° KNX æ€»çº¿ï¼›å½“æ€»çº¿æœ‰æŠ¥æ–‡åˆ°è¾¾æ—¶ä¹Ÿä¼šè¾“å‡ºåˆ°æµç¨‹ã€‚é™¤ `payload` å¤–ï¼Œä¸‹åˆ—å±æ€§å‡ä¸ºå¯é€‰ã€‚

**msg.destination ** ï¼šå¦‚ `0/0/1`ã€‚**msg.payload ** ï¼šå¦‚ `true/false/21/"Hello"`ã€‚**msg.event** ï¼š`Write`/`Response`/`Update_NoWrite`ã€‚å½“ä¸º `Update_NoWrite` æ—¶ï¼Œæ‰€æœ‰ç›¸åŒ GA çš„èŠ‚ç‚¹éƒ½ä¼šå‘æµç¨‹è¾“å‡ºåŒ…å« `event: 'Update_NoWrite'` çš„æ¶ˆæ¯ã€‚

éœ€è¦"è¯»å–â€æ—¶è¯·ä½¿ç”¨ `msg.readstatus = true`ã€‚

**msg.readstatus = true ** ï¼šå‘æ€»çº¿å‘èµ·è¯»å–ã€‚**msg.dpt ** ï¼šå¦‚ `1.001`ï¼ˆä¹Ÿæ¥å— `9`ã€`"9"`ã€`"DPT9.001"`ï¼‰ã€‚**msg.writeraw ** ã€**msg.bitlenght ** ï¼šå‘é€ RAWï¼›ä¼šå¿½ç•¥èŠ‚ç‚¹ä¸Šè®¾ç½®çš„ DPTã€‚**msg.resetRBE = true** ï¼šé‡ç½® RBE è¿‡æ»¤ã€‚

## é€šè¿‡æ¶ˆæ¯ä¿®æ”¹é…ç½®

[ç¤ºä¾‹é¡µè¯·è§æ­¤å¤„](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-Sample-setConfig)

---

# å¿«é€Ÿä¸Šæ‰‹ï¼ˆQUICK HOW TOï¼‰

æ›´å¤šç¤ºä¾‹è§ï¼š[SamplesHome](https://supergiovane.github.io/node-red-contrib-knx-ultimate/wiki/-SamplesHome)

**æ‰“å¼€ç¯**

```javascript
msg.payload = true; return msg;
```

**ç»å¯¹è°ƒå…‰**

```javascript
msg.payload = 30; return msg;
```

**å‘æ˜¾ç¤ºå±å‘é€æ–‡æœ¬**

```javascript
msg.payload = "Output Tem. 35Â°C"; return msg;
```

**è¯»å–çŠ¶æ€**

```javascript
// å‘é€è¯»å–è¯·æ±‚ï¼›éœ€åœ¨èŠ‚ç‚¹ä¸Šå‹¾é€‰"React to response telegramsâ€ä»¥æ¥æ”¶åº”ç­”
msg.readstatus = true; return msg;
```

**å‘é€ RAW åˆ°æ€»çº¿**

```javascript
// DPT1 ç¤ºä¾‹ï¼šå¼€ç¯ = Buffer<01>ï¼Œbitlength = 1
msg.writeraw = Buffer.from('01','hex');
msg.bitlenght = 1; return msg;
// æ¸©åº¦ï¼ˆDPT9ï¼‰ç¤ºä¾‹ï¼š18.4 Â°C = <0730>
// msg.writeraw = Buffer.from('0730','hex'); return msg;
```
